---
name: Minimal Scenario with JMeter - 1 sec think time
author: David Kopp
description: Testing different think times. One user checks out the inventory, thinks for 1 sec, adds one random product to cart and finally confirms the order.

compose-file: !include monolith-compose.yml

services:
  postgres:
    setup-commands:
       - sleep 5 # wait some time to ensure that the database is ready to accept connections

sci:
  R_d: order
  # One order consists of three sequential requests: get inventory, add product to cart, confirm order

flow:
  - name: single user orders one product
    container: jmeter
    commands:
      - type: console
        command: jmeter -Jhostname=backend -Jport=8080 -JnumExecutions=1 -JnumUser=1 -JrampUp=0 -JnumProducts=1 -JthinkTimeMin=1000 -JthinkTimeAdditionalRange=0 -JloggingEnabled=true -n -t /tmp/repo/t2-project-flexible.jmx
        log-stdout: true
        read-notes-stdout: true
        read-sci-stdout: true

# Result:
# https://metrics.green-coding.berlin/stats.html?id=1521e35b-ad32-4e20-8569-905aa29555a7
